# Test for bug 73556.
# The server is crashing when we update the 'VIEW' using subquery with 'ALL'
# comparison_operator. But it is happening only if we select the indexed column name
# from main table in subquery SELECT clause.

CREATE TABLE t1(t1_a decimal not null);
CREATE TABLE t2(t2_a int, t2_b int unsigned not null, t2_c float, primary key(t2_a));
CREATE VIEW v_t2 AS SELECT * FROM t2;
INSERT INTO t2 VALUES (1,0,0);
UPDATE v_t2 SET t2_c=3 WHERE t2_b < ALL(SELECT t1_a FROM t1);

DROP TABLE t1;
DROP VIEW v_t2;
DROP TABLE t2;
