--source include/have_debug.inc

-- disable_warnings
DROP TABLE IF EXISTS t;
-- enable_warnings
CREATE TABLE t(id INT, number INT);
INSERT INTO t VALUES (0,1);

--connect (conn0,localhost,root,,)
--connect (conn1,localhost,root,,)
--connect (conn2,localhost,root,,)

--connection conn0
--error 0, ER_UNKNOWN_SYSTEM_VARIABLE
SET SESSION debug="+d,status_wait_query_cache_mutex_sleep";
SELECT number from t where id = 0;

--connection conn1
SELECT number from t where id = 0;

--connection conn2
let $conn2_id=`SELECT CONNECTION_ID()`;
SHOW PROCESSLIST;

DROP TABLE t;
